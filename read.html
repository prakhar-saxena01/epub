<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="lib/bootstrap/v3/css/bootstrap.min.css" rel="stylesheet" media="screen">
	<link href="lib/bootstrap/v3/css/bootstrap-theme.min.css" rel="stylesheet" media="screen">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<script src="lib/bootstrap/v3/js/jquery.js"></script>
	<script src="lib/bootstrap/v3/js/bootstrap.min.js"></script>

	<script src="lib/promise.js"></script>
	<script src="lib/fetch.js"></script>

	<script src="lib/zip.min.js"></script>
	<script src="lib/localforage.min.js"></script>
	<script src="lib/epub.js"></script>
	<script src="js/read.js"></script>
	<script src="js/common.js"></script>

	<link id="favicon" rel="shortcut icon" type="image/png" href="img/favicon.png" />
	<link type="text/css" rel="stylesheet" media="screen" href="css/read.css" />

	<link type="text/css" rel="stylesheet" media="screen" href="themes/default.css" id="theme_css" />
</head>
<body>

<div class="modal fade" id="settings-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Settings</h4>
      </div>
      <div class="modal-body">
			<form name="settings-form" onsubmit="return false" class="form-horizontal">

				<div class="form-group">
					<label class="col-sm-3 control-label">Font:</label>
					<div class="col-sm-9">
						<select class="font_family form-control" onchange="apply_font(this)">
							<option>Arial</option>
						 	<option>Times New Roman</option>
							<option>Georgia</option>
							<option>Courier New</option>
						</select>
					</div>
  				</div>

				<div class="form-group">
					<label class="col-sm-3 control-label">Text size:</label>
					<div class="col-sm-9">
						<select class="font_size form-control" onchange="apply_font_size(this)"></select>
					</div>
  				</div>

				<div class="form-group">
					<label class="col-sm-3 control-label">Line height:</label>
					<div class="col-sm-9">
						<select class="line_height form-control" onchange="apply_line_height(this)"></select>
					</div>
  				</div>

				<div class="form-group">
					<label class="col-sm-3 control-label">Theme:</label>
					<div class="col-sm-9">
						<select class="theme_name form-control" onchange="change_theme(this)">
							<option value="default">Default</option>
						 	<option value="gray">Gray</option>
							<option value="mocca">Mocca</option>
						 	<option value="night">Night</option>
						 	<option value="plan9">Plan9</option>
						</select>
					</div>
  				</div>

				<div class="form-group">
					<label class="col-sm-3 control-label"></label>
					<div class="col-sm-9">
						<!-- <div class="text-muted">Options take effect after reload:</div> -->

						<div class="checkbox">
							<label>
								<input class="keep_ui_checkbox"
									type="checkbox"> Keep UI when turning pages
							</label>
						</div>
					</div>
  				</div>

				<hr/>

				<div class="form-group">
					<label class="col-sm-3 control-label">Progress:</label>
					<div class="col-sm-9">

						<div class="input-group">
							<input type="numeric" disabled="disabled" class="form-control lastread_input">
							<span class="input-group-btn">
								<button class="btn btn-danger" type="button" onclick="clear_lastread()">Clear</button>
							</span>
						</div>
					</div>
  				</div>

				<div class="form-group">
					<label class="col-sm-3 control-label"></label>
					<div class="col-sm-9">
						<button class="btn btn-default" type="button" onclick="open_lastread()">Open last read page</button>
						<button class="btn btn-primary" type="button" onclick="mark_as_read()">Mark as read</button>
					</div>
  				</div>

			</form>
      </div>
      <div class="modal-footer">
             <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="dict-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Dictionary Lookup</h4>
      </div>
		<input type="hidden" class="dict_query" value=""/>
      <div class="modal-body">
			<div class="dict_result"> </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="dict_search_btn btn-default btn">Google</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="toc-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Table of Contents</h4>
      </div>
      <div class="modal-body">
			<ul class="toc_list list-unstyled"> </ul>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="search-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search</h4>
      </div>
      <div class="modal-body">

			<form class="form-horizontal" onsubmit="return false;">
				<div class="form-group">
					<label class="col-sm-4 control-label">Look for:</label>
					<div class="col-sm-8">
						<input type="search" class="form-control search_input">
					</div>
  				</div>

				<ul class="search_results list-unstyled"> </ul>

			</form>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" onclick="search()">Search</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<div class="container">
<div class="header">
	<a href="#" onclick="save_and_close()">&laquo;&nbsp;Exit</a>
	<div class="title"> </div>
	<div class="toolbar">

		<div class="prev_location_btn"
			onclick="open_previous_location(this)" style="display : none">
			<div class="glyphicon glyphicon-chevron-left" aria-hidden="true"></div>
		</div>

		<div data-toggle="modal" data-target="#search-modal">
			<div class="glyphicon glyphicon-search" aria-hidden="true"></div>
		</div>

		<div onclick="toggle_fullscreen()">
			<div class="glyphicon glyphicon-fullscreen" aria-hidden="true"></div>
		</div>

		<div data-toggle="modal" data-target="#settings-modal">
			<div class="glyphicon glyphicon-wrench" aria-hidden="true"></div>
		</div>

	</div>
</div>

<div id="left"></div>
<div id="right"></div>

<div id="reader"></div>

<div class="footer">
	<div class="chapter" data-toggle="modal" data-target="#toc-modal"></div>
	<div class="spacer"> </div>
	<div class="location">
		<span id="cur_page">?</span> / <span id="total_pages">?</span>
		(<span id="page_pct">?</span>)
	</div>
</div>

<div class="loading">
	<div class="loading_message">
		Opening book...
	</div>
</div>
</div>

</body>
</html>
